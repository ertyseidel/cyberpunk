//By David Walsh, minified and edited by Erty Seidel
//http://davidwalsh.name/javascript-clone
function clone(e){function t(e,t,n){var r,i,s,o={};for(r in t){i=t[r];if(!(r in e)||e[r]!==i&&(!(r in o)||o[r]!==i)){e[r]=n?n(i):i}}return e}if(!e||typeof e!="object"||Object.prototype.toString.call(e)==="[object Function]"){return e}if(e.nodeType&&"cloneNode"in e){return e.cloneNode(true)}if(e instanceof Date){return new Date(e.getTime())}if(e instanceof RegExp){return new RegExp(e)}var n,r,i;if(e instanceof Array){n=[];for(r=0,i=e.length;r<i;++r){if(r in e){n.push(clone(e[r]))}}}else{n=e.constructor?new e.constructor:{}}return t(n,e,clone)}
Object.prototype.clone = function(){return clone(this);};
var hop = Object.prototype.hasOwnProperty.bind(Object.prototype);
Object.prototype.hasOwnProperty = function(prop) {
	return hop(prop) && prop != "clone";
};
Array.prototype.clone = function(){return clone(this);};
